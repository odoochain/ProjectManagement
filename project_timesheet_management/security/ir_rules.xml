<?xml version="1.0" encoding="UTF-8"?>
<odoo>

    <record id="timesheet_invoice_team_member_rule" model="ir.rule">
        <field name="name">Timesheet Invoice: Timesheet Invoice Project Team Member Rule</field>
        <field name="model_id" ref="project_timesheet_management.model_timesheet_invoice"/>
        <field name="domain_force">[('create_uid', '=', user.id)]</field>
        <field name="groups" eval="[(4, ref('project_management_security.group_team_member'))]"/>
    </record>

    <record id="timesheet_invoice_coordinator_rule" model="ir.rule">
        <field name="name">Timesheet Invoice: Timesheet Invoice Supplier Project Coordinator Rule</field>
        <field name="model_id" ref="project_timesheet_management.model_timesheet_invoice"/>
        <field name="domain_force">[('partner_id', 'in', (user.partner_id.parent_id.id, user.partner_id.id)), '|',('project_id.favorite_user_ids', 'in', user.id), ('project_id.resource_ids','in',user.partner_id.id)]</field>
        <field name="groups" eval="[(4, ref('project_management_security.group_supp_project_coordinator'))]"/>
    </record>

    <record id="timesheet_invoice_coordinator_rule" model="ir.rule">
        <field name="name">Timesheet Invoice: Timesheet Invoice Project Coordinator Rule</field>
        <field name="model_id" ref="project_timesheet_management.model_timesheet_invoice" />
        <field name="domain_force">['|', ('project_id.favorite_user_ids', 'in', user.id), ('project_id.resource_ids','in',user.partner_id.id)]</field>
        <field name="groups" eval="[(4, ref('project_management_security.group_project_coordinator'))]" />
    </record>


</odoo>
